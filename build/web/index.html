<!DOCTYPE html>

<html>
    <head>
        <title>SQL Draw</title>
        
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link href="https://fonts.googleapis.com/css?family=Julius+Sans+One" rel="stylesheet"> 
        <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet"> 
        
        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="newcss.css">   
        
        <script src="snap.svg-min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>       
        
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.4.2/jquery.contextMenu.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.4.2/jquery.ui.position.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.4.2/jquery.contextMenu.min.css">
        
       
        
        
        <script src="https://fastcdn.org/FileSaver.js/1.1.20151003/FileSaver.min.js"></script>
        
        <script src="sweetalert.min.js"></script>
        <link rel="stylesheet" type="text/css" href="sweetalert.css">
        
        
    </head>
    <body>       
        
        
         <div class="page-header">         
                
             <a href="index.html" ><h1> SQL Draw</h1></a> 
                
         </div>        
 
        
        
 
              <div class="container">
	<div class="row">
        
        <div class="dropdown" style = "display: inline-block;">
            <a id="dLabel" role="button" data-toggle="dropdown" class="btn btn-primary" data-target="#" href="/page.html">
                New <span class="caret"></span>
            </a>
    		<ul class="dropdown-menu multi-level" role="menu" aria-labelledby="dropdownMenu">
              <li><a href="javaScript:void(0);" onclick = 'createRect("entity", "entity_" + entity_counter, "none","none","none", "none", basic_x + entity_counter, basic_y + entity_counter)'>Entity</a></li>
              <li><a href="javaScript:void(0);" onclick = 'createRect("weak_entity", "entity_" + entity_counter,"none","none" ,"none", "none",  basic_x + entity_counter, basic_y + entity_counter)'>Weak Entity</a></li>
              <li><a href="javaScript:void(0);" onclick = 'createEllipse("attribute", "attribute_" + attribute_counter, "INTEGER", 1, 0, 0, "false", "false", "false", "none", basic_x + attribute_counter, basic_y + attribute_counter )'>Attribute</a></li>
              <li><a href="javaScript:void(0);" onclick = 'createEllipse("derived_attribute", "attribute_" + attribute_counter, "INTEGER", 1, 0, 0, "false", "false", "false","none", basic_x + attribute_counter, basic_y + attribute_counter)'>Derived Attribute</a></li>
              <li><a href="javaScript:void(0);" onclick = 'createEllipse("multi_attribute", "attribute_" + attribute_counter, "INTEGER", 1, 0, 0, "false", "false", "false","none", basic_x + attribute_counter, basic_y + attribute_counter)'>Multivalued Attribute</a></li>
              <li><a href="javaScript:void(0);" onclick = 'createRhombus("relationship", "rel_" + relationship_counter, "none","none","none","none","false","false","false","false","1","1","1","1", basic_x + relationship_counter, basic_y + relationship_counter )'>Relationship</a></li>
              <li><a href="javaScript:void(0);" onclick = 'createRhombus("identifying_rel", "rel_" + relationship_counter,"none","none","none","none","false","false","false","false","1","1","1","1", basic_x + relationship_counter, basic_y + relationship_counter )'>Identifying Relationship</a></li>
              <li><a href="javaScript:void(0);" onclick = 'createCircle("disjoint", "none", "none", "false", "none", "false", basic_x, basic_y)'>Specialization (Disjoint Subsets) </a></li>
              <li><a href="javaScript:void(0);" onclick = 'createCircle("overlapping", "none", "none", "false", "none", "false", basic_x, basic_y)'>Specialization (Overlapping Subsets) </a></li>
              <li><a href="javaScript:void(0);" onclick = 'createCircle("union", "none", "none", "false", "none", "false", basic_x, basic_y)'>Union </a></li>
            </ul>
        </div>  
        
	</div>
    </div>
            
            
      
    
          
           
            <div  id = "drawing-box" > 
                     
                <svg style="width:100%; height: 100%;" id = "svg" ></svg>

                <canvas id="canvas" style = "display:none;"></canvas> 
            
            </div>
        
        
        
        <div class="container">
            
            <div class ="row">
                <div class="col-sm-2">
                    
                    <button type="button" class="btn btn-primary" onclick="screenshot()">Convert to PNG</button> 
                    
                </div>
                <div class="col-sm-2">
                    
                     <button class ='btn btn-primary' onclick = "generateFile()">Save</button>
                    
                </div>
                <div class="col-sm-2" style="padding-top:25px;">
                
                    <div class="container">
                        <!-- Saving text -->
                        
                            <section id="save-text">
                              
                              
                                <span class="loadblock" class="pull-right">
                                  <span class="file-details"></span><input type="file" id="load-text-file" name="load-text-file" />
                                </span>
                                <textarea style="display:none;" class="input form-control" id="textInput" rows="5" placeholder=""></textarea>
                                <br>
                                <div>            
                                  
                                </div>
                              
                            </section>
                       
                    
                </div>
                
            </div>
                
                 <div class="col-sm-2">
                    
                    <button type="button" class="btn btn-primary" onclick="check()">Error Check</button> 
                    
                </div>
                
                <div class="col-sm-2">
                    
                    <button type="button" class="btn btn-primary" onclick="convertToSQL()">Convert to PostgreSQL</button> 
                    
                </div>
            
          
 
        </div>
            
        </div>
        
        
        
       
        <br><br>
            
        <div id ="header">
            <nav class="navbar navbar-inverse" style="background-color: white; border:none; ">

                <div class="container-fluid">

                  <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>
                      <span class="icon-bar"></span>                        
                    </button>

                  </div>
                  <div class="collapse navbar-collapse" id="myNavbar">
                    <ul class="nav navbar-nav">
                      <li><a href="index.html"> HOME </a></li>                  
                      <li><a href="instructions.html">HOW TO USE</a></li>
                      <li><a href="https://github.com/AM1467/ERD-Tool/">SOURCE CODE</a></li>
                    </ul>

                  </div>
                </div>

            </nav>
            
        </div>  
        
         
    <script src="functions.js"></script>
    
    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>  
    
     <script src="canvg.min.js"></script> 
     <script src="canvg.js"></script> 
     
     
     <div id="contact">         
         
         <p>Created by: Irene Papadopoulou, eirini.p09@gmail.com</p>
         
     </div>
    
    
    </body>
    
    
    
</html>
